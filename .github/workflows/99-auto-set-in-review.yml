---
name: ðŸ‘€ Auto set in review

permissions:
  pull-requests: write

on:
  workflow_call:

jobs:
  set-in-review:
    runs-on: ubuntu-24.04
    steps:
      - name: ðŸ‘€ Set project status to Actively In Review
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          ITEM_ID=$(gh project item-list 6 --owner db-ux-design-system --format json | jq -r --arg pr_url "${{ github.event.pull_request.html_url }}" '.items[] | select(.content.url == $pr_url) | .id')
          gh project item-edit --id "$ITEM_ID" --project-number 6 --owner db-ux-design-system --field-name "Status" --text "ðŸ‘€ Actively In Review"
        continue-on-error: true
