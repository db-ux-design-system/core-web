import{j as n}from"./jsx-runtime-u17CrQMm.js";import{f as m,a as h,c as b,g,e as u,p}from"./index-cGbbigiG.js";import{r as o}from"./iframe-CgAvxnEq.js";import{l as w}from"./constants-CD69XpC7.js";import{D as y}from"./button-DnZnbJNC.js";function T(e,d){const a=d||o.useRef(d),i=o.useRef(null),[c,f]=o.useState(()=>!1);function s(t,r){t&&(p(t)?t.key==="Escape"&&(t.preventDefault(),e.onClose&&e.onClose(t)):(r&&(t.stopPropagation(),e.onClose&&e.onClose(t)),t.target?.nodeName==="DIALOG"&&t.type==="click"&&e.backdrop!=="none"&&e.onClose&&e.onClose(t)))}function l(){if(a.current){const t=!!e.open;t&&!a.current.open&&(i.current&&i.current.removeAttribute("data-transition"),e.position==="absolute"||e.backdrop==="none"||e.variant==="inside"?a.current.show():a.current.showModal(),u(()=>{i.current&&(i.current.dataset.transition="open")},1)),!t&&a.current.open&&(i.current&&(i.current.dataset.transition="close"),u(()=>{a.current?.close()},401))}}return o.useEffect(()=>{l(),f(!0)},[]),o.useEffect(()=>{l()},[e.open]),o.useEffect(()=>{if(a.current&&c&&e.position==="absolute"){const r=a.current.parentElement;r&&(r.style.position="relative")}},[a.current,c,e.position]),n.jsx("dialog",{className:"db-drawer",id:e.id,ref:a,...m(e,["data-icon-variant","data-icon-variant-before","data-icon-variant-after","data-icon-weight","data-icon-weight-before","data-icon-weight-after","data-interactive","data-force-mobile","data-color","data-container-color","data-bg-color","data-on-bg-color","data-color-scheme","data-font-size","data-headline-size","data-divider","data-focus","data-font","data-density","onClose"]),onClick:t=>s(t),onKeyDown:t=>s(t),"data-position":e.position,"data-backdrop":e.backdrop,"data-direction":e.direction,"data-variant":e.variant,children:n.jsxs("article",{ref:i,...g(e,["data-icon-variant","data-icon-variant-before","data-icon-variant-after","data-icon-weight","data-icon-weight-before","data-icon-weight-after","data-interactive","data-force-mobile","data-color","data-container-color","data-bg-color","data-on-bg-color","data-color-scheme","data-font-size","data-headline-size","data-divider","data-focus","data-font","data-density"]),className:b("db-drawer-container",e.className),"data-spacing":e.spacing,"data-width":e.width,"data-direction":e.direction,"data-rounded":h(e.rounded),children:[n.jsxs("header",{className:"db-drawer-header",children:[n.jsx("div",{className:"db-drawer-header-text",children:n.jsx(n.Fragment,{children:e.drawerHeader})}),n.jsx(y,{className:"button-close-drawer",icon:"cross",variant:"ghost",id:e.closeButtonId,noText:!0,onClick:t=>s(t,!0),children:e.closeButtonText??w})]}),n.jsx("div",{className:"db-drawer-content",children:e.children})]})})}const v=o.forwardRef(T);v.__docgenInfo={description:"",methods:[],displayName:"DBDrawer",props:{backdrop:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof DrawerBackdropList)[number]"},description:"The backdrop attribute changes the opacity of the backdrop.\nThe backdrop 'none' will use `dialog.show()` instead of `dialog.showModal()`"},direction:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof DrawerDirectionList)[number]"},description:`The direction attribute changes the position & animation of the drawer.
E.g. "left" slides from left screen border to the right.`},drawerHeader:{required:!1,tsType:{name:"any"},description:"Slot for changing the header of the drawer."},open:{required:!1,tsType:{name:"union",raw:"boolean | string",elements:[{name:"boolean"},{name:"string"}]},description:"The open attribute opens or closes the drawer based on the state."},rounded:{required:!1,tsType:{name:"union",raw:"boolean | string",elements:[{name:"boolean"},{name:"string"}]},description:`The rounded attribute changes the border radius of the corners on the "end" of the drawer.
The "end" depends on which direction you use.`},variant:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof DrawerVariantList)[number]"},description:"Set the variant modal|inside. Defaults to modal."},position:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof DrawerPositionList)[number]"},description:"The position attribute changes the css-position (fixed or absolute) of the drawer.\n\n- `fixed` (default): Renders with `showModal()`, creating a true modal with a focus trap.\n- `absolute`: Renders with `show()`, acting as a simple overlay **without** a focus trap."},children:{required:!1,tsType:{name:"any"},description:"default slot"},className:{required:!1,tsType:{name:"string"},description:"React specific for adding className to the component."},class:{required:!1,tsType:{name:"union",raw:"string | any",elements:[{name:"string"},{name:"any"}]},description:"Workaround for TypeScript using class for all components."},id:{required:!1,tsType:{name:"string"},description:"[ID](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id) of the component, generated automatically for some components as a fallback if unset."},autofocus:{required:!1,tsType:{name:"union",raw:"boolean | string",elements:[{name:"boolean"},{name:"string"}]},description:"Before using please check for the [accessibility concerns](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/autofocus#accessibility_concerns)"},onClose:{required:!1,tsType:{name:"signature",type:"function",raw:"(event?: T) => void",signature:{arguments:[{type:{name:"T"},name:"event"}],return:{name:"void"}}},description:"Function to handle button click (close)."},close:{required:!1,tsType:{name:"signature",type:"function",raw:"(event?: T) => void",signature:{arguments:[{type:{name:"T"},name:"event"}],return:{name:"void"}}},description:"Function to handle button click (close)."},closeButtonId:{required:!1,tsType:{name:"string"},description:"The closeButtonId attribute changes the id inside the close button."},closeButtonText:{required:!1,tsType:{name:"string"},description:"The closeButtonText attribute changes the text inside the close button."},width:{required:!1,tsType:{name:"union",raw:"WidthType | string",elements:[{name:"unknown[number]",raw:"(typeof WidthList)[number]"},{name:"string"}]},description:"Width of the component. Auto width based on children size, full width based on parent elements width."},spacing:{required:!1,tsType:{name:"union",raw:"SpacingType | string",elements:[{name:"unknown[number]",raw:"(typeof SpacingList)[number]"},{name:"string"}]},description:"The spacing attribute changes the padding of the component."}}};export{v as D};
