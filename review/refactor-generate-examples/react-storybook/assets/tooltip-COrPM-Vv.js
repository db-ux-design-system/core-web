import{j as _}from"./jsx-runtime-u17CrQMm.js";import{a as h,c as q,g as D,f as A,e as I}from"./index-cGbbigiG.js";import{r as i}from"./iframe-CgAvxnEq.js";import{p as P}from"./constants-CD69XpC7.js";import{D as w}from"./document-scroll-listener-BixpNV2P.js";import{a as x}from"./floating-components-BNmGdAgy.js";function z(t,d){const g=i.useId(),n=d||i.useRef(d),[o,l]=i.useState(()=>P),[c,u]=i.useState(()=>!1),[f,y]=i.useState(()=>{}),[m,v]=i.useState(()=>{});function T(e){e.stopPropagation()}function b(e){(!e||e.key==="Escape")&&n.current&&getComputedStyle(n.current).visibility==="visible"&&r().blur()}function r(){let e=n.current.parentElement;return e&&e.localName.includes("tooltip")&&(e=e.parentElement),e}function s(e){e&&n.current&&I(()=>{n.current&&x(n.current,e,t.placement??"bottom")},1)}function k(e,a){e?.target?.contains&&e?.target?.contains(n.current)&&s(a)}function E(){f&&new w().removeCallback(f),m?.unobserve(r())}function L(e){y(new w().addCallback(a=>k(a,e))),s(e),m?.observe(r())}return i.useEffect(()=>{l(t.id||"tooltip-"+g),u(!0)},[]),i.useEffect(()=>{t.id&&l(t.id)},[t.id]),i.useEffect(()=>{if(n.current&&c&&o){const e=r();e&&(s(e),["mouseenter","focusin"].forEach(a=>{e.addEventListener(a,()=>L(e))}),e.addEventListener("keydown",a=>b(a)),["mouseleave","focusout"].forEach(a=>{e.addEventListener(a,()=>E())}),e.dataset.hasTooltip="true",t.variant==="label"?e.setAttribute("aria-labelledby",o):e.setAttribute("aria-describedby",o)),typeof window<"u"&&"IntersectionObserver"in window&&v(new IntersectionObserver(a=>{const p=a.find(({target:S})=>S===r());p&&!p.isIntersecting&&b(!1)})),u(!1)}},[n.current,c,o]),_.jsx("i",{role:"tooltip","aria-hidden":"true","data-gap":"true",ref:n,...A(t,["data-icon-variant","data-icon-variant-before","data-icon-variant-after","data-icon-weight","data-icon-weight-before","data-icon-weight-after","data-interactive","data-force-mobile","data-color","data-container-color","data-bg-color","data-on-bg-color","data-color-scheme","data-font-size","data-headline-size","data-divider","data-focus","data-font","data-density"]),...D(t,["data-icon-variant","data-icon-variant-before","data-icon-variant-after","data-icon-weight","data-icon-weight-before","data-icon-weight-after","data-interactive","data-force-mobile","data-color","data-container-color","data-bg-color","data-on-bg-color","data-color-scheme","data-font-size","data-headline-size","data-divider","data-focus","data-font","data-density"]),className:q("db-tooltip",t.className),id:o,"data-emphasis":t.emphasis,"data-animation":h(t.animation??!0),"data-delay":t.delay,"data-width":t.width,"data-show-arrow":h(t.showArrow??!0),"data-placement":t.placement,onClick:e=>T(e),children:t.children})}const C=i.forwardRef(z);C.__docgenInfo={description:"",methods:[],displayName:"DBTooltip",props:{showArrow:{required:!1,tsType:{name:"union",raw:"boolean | string",elements:[{name:"boolean"},{name:"string"}]},description:"Show/Hides arrow"},variant:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof TooltipVariantList)[number]"},description:"Change the behavior of the tooltip:\n- description: Adds `aria-describedby` to parent\n- label: Adds `aria-labelledby` to parent"},children:{required:!1,tsType:{name:"any"},description:"default slot"},className:{required:!1,tsType:{name:"string"},description:"React specific for adding className to the component."},class:{required:!1,tsType:{name:"union",raw:"string | any",elements:[{name:"string"},{name:"any"}]},description:"Workaround for TypeScript using class for all components."},id:{required:!1,tsType:{name:"string"},description:"[ID](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id) of the component, generated automatically for some components as a fallback if unset."},autofocus:{required:!1,tsType:{name:"union",raw:"boolean | string",elements:[{name:"boolean"},{name:"string"}]},description:"Before using please check for the [accessibility concerns](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/autofocus#accessibility_concerns)"},emphasis:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof EmphasisList)[number]"},description:"The emphasis attribute divides in between a weak or strong importance."},placement:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof PlacementList)[number]"},description:"The `placement` attributes values change the position to absolute and adds a transform based on the placement."},delay:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof PopoverDelayList)[number]"},description:"Add a delay before showing the tooltip"},animation:{required:!1,tsType:{name:"union",raw:"boolean | string",elements:[{name:"boolean"},{name:"string"}]},description:"Disable animation"},width:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof PopoverWidthList)[number]"},description:"Use fixed with for default max-width"}}};export{C as D};
