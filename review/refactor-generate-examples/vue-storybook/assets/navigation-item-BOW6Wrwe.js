import{d as D,o as C,r as l,w as _,c as u,b,F as f,a as v,j as y,t as k,i as N,u as g,l as E,m as I,n as q,g as m}from"./iframe-BqCYe9gC.js";import{r as M}from"./constants-BMPlMwqI.js";import{d as R,a as x,g as w,c as $}from"./index-B7howPqP.js";import{b as z}from"./floating-components-1F_x7pmN.js";import{_ as A}from"./button-BND3SCu0.js";const G=t=>{const{target:e}=t;return!!(!e?.classList?.contains("db-navigation-item-expand-button")&&e?.parentElement?.classList.contains("db-navigation-item"))};class L{element;subNavigation;parentSubNavigation=null;triangleData;initialized=!1;mouseX=0;mouseY=0;constructor(e,i){this.element=e,this.subNavigation=i,!(!this.element||!this.subNavigation)&&(this.parentSubNavigation=this.element?.closest(".db-sub-navigation"),this.parentSubNavigation&&!this.element.closest(".db-drawer")&&this.init())}init(){const e=this.parentSubNavigation?.getBoundingClientRect().width??0;this.element?.style.setProperty("--db-navigation-item-inline-size",`${e}px`),this.initialized=!0}enableFollow(){if(!this.initialized||this.triangleData||!this.element||!this.subNavigation)return;const e=z(this.subNavigation),i=this.element.getBoundingClientRect(),a=this.parentSubNavigation?.getBoundingClientRect().width??0;this.triangleData={itemRect:i,parentElementWidth:a,subNavigationHeight:this.subNavigation.getBoundingClientRect().height,padding:(a-i.width)/2,outsideVX:e.vx,outsideVY:e.vy}}disableFollow(){this.triangleData=void 0}getTriangleTipX(){return this.triangleData?this.triangleData.outsideVX==="right"?this.triangleData.itemRect.width-this.mouseX:Math.min(this.mouseX,this.triangleData.itemRect.width*.75):0}getTriangleTipY(){if(!this.triangleData)return 0;const e=Math.max(Math.min(this.mouseY,this.triangleData.itemRect.height),0)+this.triangleData.padding;return this.triangleData.outsideVY==="bottom"?e+(this.triangleData.subNavigationHeight-this.triangleData.padding*2-this.triangleData.itemRect.height):e}hasMouseEnteredSubNavigation(){if(!this.triangleData)return!1;const e=this.triangleData.outsideVX==="right";return!!(e&&this.mouseX<-1*this.triangleData.padding||!e&&this.mouseX>this.triangleData.parentElementWidth-this.triangleData.padding)}getTriangleCoordinates(e){if(!this.triangleData)return;if(e==="fill-gap"){const d=`${this.triangleData.itemRect.height+2*this.triangleData.padding}px`,r=`${this.triangleData.parentElementWidth-this.triangleData.padding}px`;return{lb:`${r} ${d}`,lt:`${r} 0`,rt:"100% 0",rb:`100% ${d}`}}const i=this.getTriangleTipX(),a=this.getTriangleTipY(),h=`${i}px ${a}px`,c=`${i}px ${a}px`;return{lb:h,lt:c,rt:"100% 0",rb:"100% 100%"}}followByMouseEvent(e){if(!this.initialized||!this.triangleData||!this.element||!this.subNavigation)return;this.mouseX=e.clientX-this.triangleData.itemRect.left,this.mouseY=e.clientY-this.triangleData.itemRect.top;const i=this.hasMouseEnteredSubNavigation(),a=this.getTriangleCoordinates(i?"fill-gap":"safe-triangle");a&&(this.element.style.setProperty("--db-navigation-item-clip-path",`polygon(${a.lb}, ${a.lt}, ${a.rt}, ${a.rb})`),i&&(this.triangleData=void 0))}}const P=["id","data-width","data-icon","data-show-icon","data-active","data-wrap","aria-disabled"],W=["aria-haspopup","aria-expanded","disabled"],F=["data-force-close"],X={key:0,class:"db-mobile-navigation-back"},V=D({name:"DBNavigationItem",__name:"navigation-item",props:{active:{type:Boolean,default:void 0},disabled:{type:[Boolean,String],default:void 0},subNavigation:{},subNavigationExpanded:{type:[Boolean,String],default:void 0},children:{default:void 0},className:{default:void 0},class:{},id:{default:void 0},autofocus:{type:[Boolean,String]},onClick:{type:Function,default:void 0},click:{},icon:{default:void 0},width:{default:void 0},wrap:{type:[Boolean,String],default:void 0},backButtonId:{default:void 0},backButtonText:{default:void 0},showIcon:{type:[Boolean,String],default:void 0},text:{default:void 0}},setup(t){const e=t,i=l(!1),a=l(!1),h=l(!0),c=l(!1),d=l(!1),r=l(void 0),p=l(null);C(()=>{i.value=!0}),_(()=>[e.subNavigationExpanded],()=>{e.subNavigationExpanded!==void 0&&(c.value=!!x(e.subNavigationExpanded,"subNavigationExpanded"))},{immediate:!0,flush:"post"}),_(()=>[i.value,p.value],()=>{if(i.value&&p.value){const n=p.value.querySelector("menu");n&&(n.children?.length>0?(a.value=!0,r.value||(r.value=new L(p.value,n))):h.value=!1)}},{immediate:!0,flush:"post"});function T(n){n?.target?.nodeName==="A"&&(d.value=!0,R(()=>{d.value=!1},1e3))}function S(n){e.onClick&&(n.stopPropagation(),e.onClick(n)),a.value&&(c.value=!0)}function B(n){n.stopPropagation(),c.value=!1}return(n,o)=>(m(),u("li",{ref_key:"_ref",ref:p,id:t.id,onMouseover:o[2]||(o[2]=async s=>r.value?.enableFollow()),onMouseleave:o[3]||(o[3]=async s=>r.value?.disableFollow()),onMousemove:o[4]||(o[4]=async s=>r.value?.followByMouseEvent(s)),class:q(g($)("db-navigation-item",e.class)),"data-width":t.width,"data-icon":t.icon,"data-show-icon":g(w)(t.showIcon),"data-active":t.active,"data-wrap":g(w)(t.wrap),"aria-disabled":g(w)(t.disabled)},[h.value?b("",!0):(m(),u(f,{key:0},[t.text?(m(),u(f,{key:0},[y(k(t.text),1)],64)):v(n.$slots,"default",{key:1})],64)),h.value?(m(),u(f,{key:1},[N("button",{class:"db-navigation-item-expand-button","aria-haspopup":a.value,"aria-expanded":c.value,disabled:g(x)(t.disabled,"disabled"),onClick:o[0]||(o[0]=async s=>S(s))},[t.text?(m(),u(f,{key:0},[y(k(t.text),1)],64)):v(n.$slots,"default",{key:1})],8,W),N("menu",{class:"db-sub-navigation","data-force-close":d.value,onClick:o[1]||(o[1]=async s=>T(s))},[a.value?(m(),u("div",X,[E(A,{icon:"arrow_left",variant:"ghost",id:t.backButtonId,onClick:s=>B(s)},{default:I(()=>[y(k(t.backButtonText??g(M)),1)]),_:1},8,["id","onClick"])])):b("",!0),v(n.$slots,"sub-navigation")],8,F)],64)):b("",!0)],42,P))}});V.__docgenInfo={exportName:"default",displayName:"navigation-item",type:1,props:[{name:"id",global:!1,description:"[ID](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id) of the component, generated automatically for some components as a fallback if unset.",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"className",global:!1,description:"React specific for adding className to the component.",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"children",global:!1,description:"default slot",tags:[],required:!1,type:"any",declarations:[],schema:"any",default:"undefined"},{name:"disabled",global:!1,description:"The disabled attribute can be set to [keep a user from clicking on the item](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#disabled).",tags:[],required:!1,type:"string | boolean",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]},default:"undefined"},{name:"text",global:!1,description:"Alternative for default slot/children.",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"icon",global:!1,description:"Define an icon by its identifier (like e.g. _user_, compare to [Icons](https://design-system.deutschebahn.com/core-web/review/main/foundations/icons/overview)) to get displayed in front of the elements content.",tags:[],required:!1,type:"BaseIconTypes | LooseAutocomplete",declarations:[],schema:{kind:"enum",type:"BaseIconTypes | LooseAutocomplete",schema:['"copy"','"arrow_down"','"arrow_left"','"arrow_right"','"arrow_up"','"arrow_up_right"','"brand"','"calendar"','"chat"','"check"','"check_circle"','"chevron_down"','"chevron_left"','"chevron_right"','"chevron_up"','"circle"','"circle_small"','"circular_arrows"','"clock"','"cross"','"cross_circle"','"double_chevron_down"','"double_chevron_left"','"double_chevron_right"','"double_chevron_up"','"exclamation_mark_circle"','"exclamation_mark_triangle"','"eye"','"eye_disabled"','"house"','"information_circle"','"magnifying_glass"','"menu"','"minus"','"moon"','"plus"','"resize_handle_corner"','"sun"','"x_placeholder"',{kind:"object",type:"LooseAutocomplete"}]},default:"undefined"},{name:"showIcon",global:!1,description:`Enables or disables the visibility of the icon. The default value depends on the component.
For many components this property is optional to reflect Figma properties.`,tags:[],required:!1,type:"string | boolean",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]},default:"undefined"},{name:"width",global:!1,description:"Width of the component. Auto width based on children size, full width based on parent elements width.",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"wrap",global:!1,description:"Determines whether the text should wrap when its parent container is too small, preventing overflow.",tags:[],required:!1,type:"string | boolean",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]},default:"undefined"},{name:"subNavigationExpanded",global:!1,description:"This is for mobile navigation only, if it is set the sub-navigation is a static overlay",tags:[],required:!1,type:"string | boolean",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]},default:"undefined"},{name:"active",global:!1,description:'Alternative indicator for active navigation item (bold font). In contrast to the use of aria-current="page" on the contained anchor, this does not guarantee correct a11y.',tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]},default:"undefined"},{name:"backButtonId",global:!1,description:"The backButtonId attribute changes the id inside the back button.",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"backButtonText",global:!1,description:"The backButtonText attribute changes the text inside the back button.",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"click",global:!1,description:"",tags:[],required:!1,type:"(event: MouseEvent) => void",declarations:[],schema:{kind:"event",type:"(event: MouseEvent): void"}},{name:"class",global:!0,description:"Workaround for TypeScript using class for all components.",tags:[],required:!1,type:"any",declarations:[],schema:"any"},{name:"autofocus",global:!1,description:"Before using please check for the [accessibility concerns](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/autofocus#accessibility_concerns)",tags:[],required:!1,type:"string | boolean",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]}},{name:"style",global:!0,description:"React inline styles for the component (development only).",tags:[],required:!1,type:"CSSProperties",declarations:[],schema:{kind:"object",type:"CSSProperties"}},{name:"subNavigation",global:!1,description:"React-specific property to pass in a slot for sub-navigation",tags:[],required:!1,type:"any",declarations:[],schema:"any"},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"}],events:[],slots:[{name:"default",type:"{}",description:"",declarations:[],schema:{kind:"object",type:"{}"}},{name:"sub-navigation",type:"{}",description:"",declarations:[],schema:{kind:"object",type:"{}"}}],exposed:[{name:"id",type:"string",description:"[ID](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id) of the component, generated automatically for some components as a fallback if unset.",declarations:[],schema:"string"},{name:"className",type:"string",description:"React specific for adding className to the component.",declarations:[],schema:"string"},{name:"children",type:"any",description:"default slot",declarations:[],schema:"any"},{name:"disabled",type:"string | boolean",description:"The disabled attribute can be set to [keep a user from clicking on the item](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#disabled).",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]}},{name:"text",type:"string",description:"Alternative for default slot/children.",declarations:[],schema:"string"},{name:"icon",type:"BaseIconTypes | LooseAutocomplete",description:"Define an icon by its identifier (like e.g. _user_, compare to [Icons](https://design-system.deutschebahn.com/core-web/review/main/foundations/icons/overview)) to get displayed in front of the elements content.",declarations:[],schema:{kind:"enum",type:"BaseIconTypes | LooseAutocomplete",schema:['"copy"','"arrow_down"','"arrow_left"','"arrow_right"','"arrow_up"','"arrow_up_right"','"brand"','"calendar"','"chat"','"check"','"check_circle"','"chevron_down"','"chevron_left"','"chevron_right"','"chevron_up"','"circle"','"circle_small"','"circular_arrows"','"clock"','"cross"','"cross_circle"','"double_chevron_down"','"double_chevron_left"','"double_chevron_right"','"double_chevron_up"','"exclamation_mark_circle"','"exclamation_mark_triangle"','"eye"','"eye_disabled"','"house"','"information_circle"','"magnifying_glass"','"menu"','"minus"','"moon"','"plus"','"resize_handle_corner"','"sun"','"x_placeholder"',{kind:"object",type:"LooseAutocomplete"}]}},{name:"showIcon",type:"string | boolean",description:`Enables or disables the visibility of the icon. The default value depends on the component.
For many components this property is optional to reflect Figma properties.`,declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]}},{name:"onClick",type:"(event: MouseEvent) => void",description:"React specific onClick to pass to forward ref.",declarations:[],schema:{kind:"event",type:"(event: MouseEvent): void"}},{name:"width",type:"string",description:"Width of the component. Auto width based on children size, full width based on parent elements width.",declarations:[],schema:"string"},{name:"wrap",type:"string | boolean",description:"Determines whether the text should wrap when its parent container is too small, preventing overflow.",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]}},{name:"subNavigationExpanded",type:"string | boolean",description:"This is for mobile navigation only, if it is set the sub-navigation is a static overlay",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]}},{name:"active",type:"boolean",description:'Alternative indicator for active navigation item (bold font). In contrast to the use of aria-current="page" on the contained anchor, this does not guarantee correct a11y.',declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"backButtonId",type:"string",description:"The backButtonId attribute changes the id inside the back button.",declarations:[],schema:"string"},{name:"backButtonText",type:"string",description:"The backButtonText attribute changes the text inside the back button.",declarations:[],schema:"string"},{name:"click",type:"(event: MouseEvent) => void",description:"",declarations:[],schema:{kind:"event",type:"(event: MouseEvent): void"}},{name:"class",type:"any",description:"Workaround for TypeScript using class for all components.",declarations:[],schema:"any"},{name:"autofocus",type:"string | boolean",description:"Before using please check for the [accessibility concerns](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/autofocus#accessibility_concerns)",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]}},{name:"style",type:"CSSProperties",description:"React inline styles for the component (development only).",declarations:[],schema:{kind:"object",type:"CSSProperties"}},{name:"subNavigation",type:"any",description:"React-specific property to pass in a slot for sub-navigation",declarations:[],schema:"any"}],sourceFiles:"/home/runner/work/core-web/core-web/output/vue/src/components/navigation-item/navigation-item.vue"};export{V as _,G as i};
