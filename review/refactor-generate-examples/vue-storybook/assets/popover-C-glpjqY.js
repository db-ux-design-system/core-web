import{d as q,o as x,r as s,w as h,c as B,a as y,i as C,u as l,n as T,g as E}from"./iframe-BqCYe9gC.js";import{g as u,c as P,d as N}from"./index-B7howPqP.js";import{D as b}from"./document-scroll-listener-sPooixGf.js";import{a as I}from"./floating-components-1F_x7pmN.js";const L=["id"],D=["data-spacing","data-gap","data-animation","data-open","data-delay","data-width","data-placement"],R=q({name:"DBPopover",__name:"popover",props:{open:{type:[Boolean,String],default:void 0},trigger:{},children:{default:void 0},className:{default:void 0},class:{},id:{default:void 0},autofocus:{type:[Boolean,String]},spacing:{default:void 0},placement:{default:void 0},gap:{type:[Boolean,String],default:void 0},delay:{default:void 0},animation:{type:[Boolean,String],default:void 0},width:{default:void 0}},setup(n){const m=n,i=s(!1),r=s(!1),d=s(void 0),c=s(void 0),a=s(null);x(()=>{i.value=!0}),h(()=>[a.value,i.value],()=>{if(a.value&&i.value){i.value=!1;const e=o();e&&(e.ariaHasPopup="true"),p(),a.value.addEventListener("keydown",t=>f(t)),["mouseenter","focusin"].forEach(t=>{a.value.addEventListener(t,()=>k())}),["mouseleave","focusout"].forEach(t=>{a.value.addEventListener(t,()=>w())}),typeof window<"u"&&"IntersectionObserver"in window&&(c.value=new IntersectionObserver(t=>{const g=t.find(({target:S})=>S===o());g&&!g.isIntersecting&&f(!1)}))}},{immediate:!0,flush:"post"}),h(()=>[a.value,r.value],()=>{if(a.value){const e=o();e&&(e.ariaExpanded=(!!r.value).toString())}},{immediate:!0,flush:"post"});function f(e){if(!e||e.key==="Escape")for(const t of Array.from(a.value.children))t.blur()}function p(){if(!a.value)return;const e=a.value.querySelector("article");e&&N(()=>{I(e,a.value,m.placement??"bottom")},1)}function v(e){e?.target?.contains&&e?.target?.contains(a.value)&&p()}function k(){r.value=!0,d.value=new b().addCallback(t=>v(t)),p();const e=o();e&&c.value?.observe(e)}function w(e){{r.value=!1,d.value&&new b().removeCallback(d.value);const t=o();t&&c.value?.unobserve(t)}}function o(){if(a.value){const e=Array.from(a.value.children);if(e.length>=2){const t=e[0];return t.tagName.includes("-")?t.children?.length>0?t.children[0]:null:t}}return null}return(e,t)=>(E(),B("div",{ref_key:"_ref",ref:a,id:n.id,class:T(l(P)("db-popover",m.class))},[y(e.$slots,"trigger"),C("article",{class:"db-popover-content","data-spacing":n.spacing,"data-gap":l(u)(n.gap),"data-animation":l(u)(n.animation??!0),"data-open":l(u)(n.open),"data-delay":n.delay,"data-width":n.width,"data-placement":n.placement},[y(e.$slots,"default")],8,D)],10,L))}});R.__docgenInfo={exportName:"default",displayName:"popover",type:1,props:[{name:"delay",global:!1,description:"Add a delay before showing the tooltip",tags:[],required:!1,type:'"none" | "slow" | "fast"',declarations:[],schema:{kind:"enum",type:'"none" | "slow" | "fast"',schema:['"none"','"slow"','"fast"']},default:"undefined"},{name:"id",global:!1,description:"[ID](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id) of the component, generated automatically for some components as a fallback if unset.",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"className",global:!1,description:"React specific for adding className to the component.",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"children",global:!1,description:"default slot",tags:[],required:!1,type:"any",declarations:[],schema:"any",default:"undefined"},{name:"placement",global:!1,description:"The `placement` attributes values change the position to absolute and adds a transform based on the placement.",tags:[],required:!1,type:'"top" | "bottom" | "top-start" | "top-end" | "bottom-start" | "bottom-end" | "left" | "right" | "left-start" | "left-end" | "right-start" | "right-end"',declarations:[],schema:{kind:"enum",type:'"top" | "bottom" | "top-start" | "top-end" | "bottom-start" | "bottom-end" | "left" | "right" | "left-start" | "left-end" | "right-start" | "right-end"',schema:['"top"','"bottom"','"top-start"','"top-end"','"bottom-start"','"bottom-end"','"left"','"right"','"left-start"','"left-end"','"right-start"','"right-end"']},default:"undefined"},{name:"width",global:!1,description:"Use fixed with for default max-width",tags:[],required:!1,type:'"fixed" | "auto"',declarations:[],schema:{kind:"enum",type:'"fixed" | "auto"',schema:['"fixed"','"auto"']},default:"undefined"},{name:"spacing",global:!1,description:"The spacing attribute changes the padding of the component.",tags:[],required:!1,type:"string",declarations:[],schema:"string",default:"undefined"},{name:"open",global:!1,description:"Use open to disable the default hover/focus behavior to use it on click or other trigger.",tags:[],required:!1,type:"string | boolean",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]},default:"undefined"},{name:"animation",global:!1,description:"Disable animation",tags:[],required:!1,type:"string | boolean",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]},default:"undefined"},{name:"gap",global:!1,description:"If the absolute element should have a gap between the parent element.",tags:[],required:!1,type:"string | boolean",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]},default:"undefined"},{name:"class",global:!0,description:"Workaround for TypeScript using class for all components.",tags:[],required:!1,type:"any",declarations:[],schema:"any"},{name:"autofocus",global:!1,description:"Before using please check for the [accessibility concerns](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/autofocus#accessibility_concerns)",tags:[],required:!1,type:"string | boolean",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]}},{name:"style",global:!0,description:"React inline styles for the component (development only).",tags:[],required:!1,type:"CSSProperties",declarations:[],schema:{kind:"object",type:"CSSProperties"}},{name:"trigger",global:!1,description:"The trigger to open the popover e.g. a button",tags:[],required:!1,type:"any",declarations:[],schema:"any"},{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void"}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"}],events:[],slots:[{name:"trigger",type:"{}",description:"",declarations:[],schema:{kind:"object",type:"{}"}},{name:"default",type:"{}",description:"",declarations:[],schema:{kind:"object",type:"{}"}}],exposed:[{name:"delay",type:'"none" | "slow" | "fast"',description:"Add a delay before showing the tooltip",declarations:[],schema:{kind:"enum",type:'"none" | "slow" | "fast"',schema:['"none"','"slow"','"fast"']}},{name:"id",type:"string",description:"[ID](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id) of the component, generated automatically for some components as a fallback if unset.",declarations:[],schema:"string"},{name:"className",type:"string",description:"React specific for adding className to the component.",declarations:[],schema:"string"},{name:"children",type:"any",description:"default slot",declarations:[],schema:"any"},{name:"placement",type:'"top" | "bottom" | "top-start" | "top-end" | "bottom-start" | "bottom-end" | "left" | "right" | "left-start" | "left-end" | "right-start" | "right-end"',description:"The `placement` attributes values change the position to absolute and adds a transform based on the placement.",declarations:[],schema:{kind:"enum",type:'"top" | "bottom" | "top-start" | "top-end" | "bottom-start" | "bottom-end" | "left" | "right" | "left-start" | "left-end" | "right-start" | "right-end"',schema:['"top"','"bottom"','"top-start"','"top-end"','"bottom-start"','"bottom-end"','"left"','"right"','"left-start"','"left-end"','"right-start"','"right-end"']}},{name:"width",type:'"fixed" | "auto"',description:"Use fixed with for default max-width",declarations:[],schema:{kind:"enum",type:'"fixed" | "auto"',schema:['"fixed"','"auto"']}},{name:"spacing",type:"string",description:"The spacing attribute changes the padding of the component.",declarations:[],schema:"string"},{name:"open",type:"string | boolean",description:"Use open to disable the default hover/focus behavior to use it on click or other trigger.",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]}},{name:"animation",type:"string | boolean",description:"Disable animation",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]}},{name:"gap",type:"string | boolean",description:"If the absolute element should have a gap between the parent element.",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]}},{name:"class",type:"any",description:"Workaround for TypeScript using class for all components.",declarations:[],schema:"any"},{name:"autofocus",type:"string | boolean",description:"Before using please check for the [accessibility concerns](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/autofocus#accessibility_concerns)",declarations:[],schema:{kind:"enum",type:"string | boolean",schema:["string","false","true"]}},{name:"style",type:"CSSProperties",description:"React inline styles for the component (development only).",declarations:[],schema:{kind:"object",type:"CSSProperties"}},{name:"trigger",type:"any",description:"The trigger to open the popover e.g. a button",declarations:[],schema:"any"}],sourceFiles:"/home/runner/work/core-web/core-web/output/vue/src/components/popover/popover.vue"};export{R as _};
