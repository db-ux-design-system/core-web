@use "variables" as *;
@use "variables.global" as *;
@use "color-placeholder" as *;
@use "helpers/functions" as *;
@use "color/code-colors" as *;

:root {
	// TODO: probably move these to the tokens as well
	--db-focus-outline-offset: 1px;
	--db-focus-outline-color: #{$db-colors-informational-enabled};
	--db-focus-outline-transition-duration: #{$db-transition-duration-ultra-fast};
	--db-focus-outline-size: max(2px, 0.08em);
	--db-disabled-text-opacity: 0.5;
}

// *! this is an opionionated (especially based on "enhancing" normalize.css) version of minireset.css v0.0.4 | MIT License | github.com/jgthms/minireset.css
html,
body {
	margin: 0;
	padding: 0;
}

// Box sizing
html {
	box-sizing: var(--db-box-sizing, border-box);
}

*,
::before,
::after {
	box-sizing: inherit;
}

// Make sure every elements has the current color from container above
body {
	color: var(--db-current-color, $db-colors-neutral-on-bg-enabled);
}

a {
	color: inherit;

	strong {
		color: currentColor;
	}
}

button,
input,
select,
textarea {
	font-family: inherit;
	font-size: inherit;
	line-height: inherit;
}

// Media
img,
embed,
iframe,
object,
video {
	block-size: auto;
	max-inline-size: 100%;
}

// Iframe
iframe {
	border: 0;
}

// Focus styles
%focus-placeholder,
:is(a, button, input, textarea, summary, select) {
	transition: outline var(--db-focus-outline-transition-duration);

	&:focus-visible {
		outline: var(--db-focus-outline-size)
			var(--db-focus-outline-style, solid)
			var(--db-focus-outline-color, currentColor);
		outline-offset: var(
			--db-focus-outline-offset,
			var(--db-focus-outline-size)
		);
	}
}

// List style / https://marketingportal.extranet.deutschebahn.com/marketingportal/Marke-und-Design/Basiselemente/Typografie#Aufzaehlungszeichen-9693110
:where(ul) {
	list-style-type: "\2022"+ "   ";

	li::marker {
		color: #{$db-colors-primary-enabled};
	}
}

// * Individual styles
// Navigation lists
nav,
[role="navigation"] {
	ol,
	ul {
		list-style: none;

		margin: 0;
		padding: 0;
	}
}

// Block
fieldset {
	border: none;
}

// Code

pre:has(code) {
	@extend %code-style;
	padding: $db-spacing-fixed-xs;
}

code {
	@extend %code-style;
	padding-block: $db-spacing-fixed-2xs;
	padding-inline: $db-spacing-fixed-xs;
}

// details/summary box-sizing / https://kittygiraudel.com/2021/08/23/shadow-roots-and-inheritance/
details {
	& > *,
	& > ::before,
	& > ::after {
		box-sizing: var(--db-box-sizing, border-box);
	}
}
