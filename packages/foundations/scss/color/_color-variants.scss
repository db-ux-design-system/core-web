@use "sass:string";
@use "../color-placeholder" as *;
@use "../variables" as *;

$color-variants: "neutral-0", "neutral-1", "neutral-3", "neutral-4", "primary",
	"secondary", "critical", "successful", "warning", "informational";

@mixin color-variants($ia) {
	@each $variant in $color-variants {
		&[data-color-variant="#{$variant}"] {
			@extend %db-bg-#{$variant};
		}
		@if ($ia == true) {
			&[data-color-variant="#{$variant}-ia"] {
				@extend %db-bg-#{$variant}-ia;
			}
		}
	}
}

%color-variants {
	@include color-variants(false);
}
%color-variants-ia {
	@include color-variants(true);
}

@mixin get-variant-bg-color($alpha) {
	background-color: color-mix(
		in srgb,
		transparent
			var(
				--db-current-base-color-alpha,
				string.unquote(calc((1 - $alpha) * 100) + "%")
			),
		var(--db-current-base-color, #fff)
	);
}

%bg-transparent {
	@include get-variant-bg-color(0);
}

%bg-transparent-hover {
	@extend %bg-transparent;

	&:enabled {
		&:hover {
			@include get-variant-bg-color(0.16);
		}
	}
}

%bg-transparent-interactive {
	@extend %bg-transparent-hover;

	&:enabled {
		&:active {
			@include get-variant-bg-color(0.24);
		}
	}
}

// Variants for adaptive components like input, select, alert, ...

$db-colors-critical-border-weak: var(
	--critical-border-weak-color,
	$db-colors-critical-border-weak-enabled
);

$db-colors-critical-element: var(
	--critical-element-color,
	$db-colors-critical-element-enabled
);

$db-colors-critical-on-bg: var(
	--critical-on-bg-color,
	$db-colors-critical-on-bg-enabled
);
$db-colors-critical: var(--critical-base-color, $db-colors-critical-enabled);

$db-colors-informational-border-weak: var(
	--informational-border-weak-color,
	$db-colors-informational-border-weak-enabled
);
$db-colors-informational-element: var(
	--informational-element-color,
	$db-colors-informational-element-enabled
);

$db-colors-informational-on-bg: var(
	--informational-on-bg-color,
	$db-colors-informational-on-bg-enabled
);
$db-colors-informational: var(
	--informational-base-color,
	$db-colors-informational-enabled
);

$db-colors-warning-border-weak: var(
	--warning-border-weak-color,
	$db-colors-warning-border-weak-enabled
);
$db-colors-warning-element: var(
	--warning-element-color,
	$db-colors-warning-element-enabled
);
$db-colors-warning-on-bg: var(
	--warning-on-bg-color,
	$db-colors-warning-on-bg-enabled
);
$db-colors-warning: var(--warning-base-color, $db-colors-warning-enabled);

$db-colors-successful-border-weak: var(
	--successful-border-weak-color,
	$db-colors-successful-border-weak-enabled
);
$db-colors-successful-element: var(
	--successful-element-color,
	$db-colors-successful-element-enabled
);
$db-colors-successful-on-bg: var(
	--successful-on-bg-color,
	$db-colors-successful-on-bg-enabled
);
$db-colors-successful: var(
	--successful-base-color,
	$db-colors-successful-enabled
);

$component-variants: (
	"critical": (
		"border": $db-colors-critical-border-weak,
		"element": $db-colors-critical-element,
		"on-bg": $db-colors-critical-on-bg,
		"primary": $db-colors-critical
	),
	"informational": (
		"border": $db-colors-informational-border-weak,
		"element": $db-colors-informational-element,
		"on-bg": $db-colors-informational-on-bg,
		"primary": $db-colors-informational
	),
	"warning": (
		"border": $db-colors-warning-border-weak,
		"element": $db-colors-warning-element,
		"on-bg": $db-colors-warning-on-bg,
		"primary": $db-colors-warning
	),
	"successful": (
		"border": $db-colors-successful-border-weak,
		"element": $db-colors-successful-element,
		"on-bg": $db-colors-successful-on-bg,
		"primary": $db-colors-successful
	)
);
