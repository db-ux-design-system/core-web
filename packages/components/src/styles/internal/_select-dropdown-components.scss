@use "@db-ux/core-foundations/build/styles/variables";
@use "@db-ux/core-foundations/build/styles/colors";
@use "@db-ux/core-foundations/build/styles/helpers";
@use "./form-components";
@use "./component";

// Shared styles for dropdown container (used by both CustomSelect and native select ::picker)
%select-dropdown-container {
	@extend %default-card;

	position: absolute;
	z-index: 32;
	box-shadow: variables.$db-elevation-md;
	min-inline-size: variables.$db-sizing-xl;
	max-inline-size: calc(100vw - 2 * #{variables.$db-spacing-fixed-sm});

	// Adapted from .db-card
	background-color: colors.$db-adaptive-bg-basic-level-1-default;
	padding: variables.$db-spacing-fixed-sm;
}

// Shared styles for list container (used by both CustomSelect list and native select ::picker)
%select-list-container {
	overflow-block: auto;

	/* (option height + padding) * 5.5 items (showing partial item to indicate more content) + list padding */
	max-block-size: calc(
		5.5 *
			(
				(
						#{form-components.$font-size-height} - 2 *
							#{variables.$db-border-width-3xs}
					) +
					2 * #{variables.$db-spacing-fixed-sm}
			) +
			(#{variables.$db-spacing-fixed-sm} * 2)
	);
}

// Shared styles for list items (used by both CustomSelect list items and native select options)
%select-list-item {
	position: relative;
	padding: variables.$db-spacing-fixed-sm;
	background-color: colors.$db-adaptive-bg-basic-transparent-full-default;
	border-radius: variables.$db-border-radius-xs;
	box-sizing: border-box;
}

// Shared hover/active states for list items
%select-list-item-interaction {
	@include helpers.hover {
		background-color: colors.$db-adaptive-bg-basic-transparent-full-hovered;
	}

	@include helpers.active {
		background-color: colors.$db-adaptive-bg-basic-transparent-full-pressed;
	}
}
