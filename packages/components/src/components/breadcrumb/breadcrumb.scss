@charset "utf-8";
@use "@db-ux/core-foundations/build/styles/fonts";
@use "@db-ux/core-foundations/build/styles/variables";
@use "@db-ux/core-foundations/build/styles/colors";
@use "@db-ux/core-foundations/build/styles/helpers";

.db-breadcrumb {
	// Default: Small size
	.db-breadcrumb-list {
		display: flex;
		flex-wrap: wrap;
		align-items: flex-start;
		gap: variables.$db-spacing-fixed-3xs; // 2px gap for small
		list-style: none;
		margin: 0;
		padding: 0;
	}

	// Breadcrumb items (li elements)
	li {
		display: flex;
		align-items: center;
		gap: variables.$db-spacing-fixed-3xs; // 2px between separator and item (small)
	}

	// Link and text styling (small)
	a,
	span {
		display: flex;
		align-items: center;
		gap: variables.$db-spacing-fixed-2xs; // 4px gap between icon and text
		padding: variables.$db-spacing-fixed-3xs variables.$db-spacing-fixed-2xs; // 2px 4px (small)
		border-radius: variables.$db-border-radius-xs; // 4px
		background-color: colors.$db-adaptive-bg-basic-transparent-full-default;
		color: colors.$db-adaptive-on-bg-basic-emphasis-100-default;
		font-size: variables.$db-sizing-sm; // 14px (body-sm)
		line-height: variables.$db-sizing-md; // 20px
		font-family: var(--db-font-family-sans);
		font-weight: 400;
		text-decoration: none;
		white-space: nowrap;
		transition: background-color 0.2s ease;

		// Current page (last item with aria-current="page")
		&[aria-current="page"] {
			font-weight: 700; // Bold for current item
			cursor: default;
			pointer-events: none;

			&:hover,
			&:focus {
				background-color: colors.$db-adaptive-bg-basic-transparent-full-default;
				text-decoration: none;
			}
		}

		&:hover,
		&:focus {
			background-color: colors.$db-adaptive-bg-basic-transparent-semi-default;
		}

		&:active {
			background-color: colors.$db-adaptive-bg-basic-transparent-full-pressed;
		}

		@media screen and (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	// Ellipsis button for collapsed breadcrumbs
	.db-breadcrumb-ellipsis {
		appearance: none;
		background: none;
		border-width: 0;
		margin: 0;
		cursor: pointer;
		display: flex;
		align-items: center;
		padding: variables.$db-spacing-fixed-3xs variables.$db-spacing-fixed-2xs; // match link padding (small)
		border-radius: variables.$db-border-radius-xs;
		background-color: colors.$db-adaptive-bg-basic-transparent-full-default;
		color: colors.$db-adaptive-on-bg-basic-emphasis-100-default;
		font-size: variables.$db-sizing-sm; // 14px (body-sm)
		line-height: variables.$db-sizing-md; // 20px
		font-family: var(--db-font-family-sans);
		font-weight: 400;
		white-space: nowrap;
		transition: background-color 0.2s ease;

		&:hover,
		&:focus {
			background-color: colors.$db-adaptive-bg-basic-transparent-semi-default;
		}

		&:active {
			background-color: colors.$db-adaptive-bg-basic-transparent-full-pressed;
		}

		&:focus-visible {
			outline: 2px solid colors.$db-adaptive-on-bg-basic-emphasis-100-default;
			outline-offset: 2px;
		}

		@media screen and (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	// Default chevron: apply when the breadcrumb does NOT request a slash
	&:not([data-separator="slash"])
		.db-breadcrumb-list
		> li:not(:first-child)::before {
		content: "â€º"; // chevron right glyph (U+203A)
		display: flex;
		align-items: center;
		justify-content: center;
		inline-size: variables.$db-sizing-sm; // 24px (small)
		block-size: variables.$db-sizing-sm;
		font-size: variables.$db-sizing-md; // 20px
		color: colors.$db-adaptive-on-bg-basic-emphasis-100-default;
		font-weight: 400;
	}

	// Slash separator override when component has data-separator="slash"
	&[data-separator="slash"] .db-breadcrumb-list li:not(:first-child)::before {
		content: "/"; // ASCII slash (0x2F)
		font-weight: 400;
		color: colors.$db-adaptive-on-bg-basic-emphasis-100-default;

		/* reduce the inline size so the slash doesn't create extra empty box */
		inline-size: auto;
		block-size: auto;
		font-size: variables.$db-sizing-sm; // match small text sizing by default
		margin: 0 variables.$db-spacing-fixed-2xs; // small horizontal spacing
	}

	// Medium size variant
	&[data-size="medium"] {
		.db-breadcrumb-list {
			// Slightly more breathing room for medium size (matches Figma spacing)
			gap: variables.$db-spacing-fixed-xs; // 8px gap for medium

			/* ensure list items are vertically centered in medium size */
			align-items: center;
		}

		li {
			// Increase gap between separator and item for better touch target
			gap: variables.$db-spacing-fixed-xs; // 8px between separator and item (medium)

			&:not(:first-child)::before {
				// Make the chevron larger to match visual weight in Figma
				inline-size: variables.$db-sizing-lg; // ~24px
				block-size: variables.$db-sizing-lg;
				font-size: variables.$db-sizing-lg; // use large sizing token
				font-weight: 600;
				color: colors.$db-adaptive-on-bg-basic-emphasis-100-default;
			}

			a,
			span {
				// Keep the medium padding but ensure comfortable tap/click area
				padding: variables.$db-spacing-fixed-2xs
					variables.$db-spacing-fixed-xs; // 4px 8px (medium)

				font-size: variables.$db-sizing-md; // 16px (body-md)
				line-height: variables.$db-sizing-lg; // 24px
			}
		}

		// Ellipsis button styling for medium size
		.db-breadcrumb-ellipsis {
			padding: variables.$db-spacing-fixed-2xs
				variables.$db-spacing-fixed-xs; // match medium padding

			font-size: variables.$db-sizing-md; // 16px (body-md)
			line-height: variables.$db-sizing-lg; // 24px
		}
	}
}
